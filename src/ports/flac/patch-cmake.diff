diff --git i/CMakeLists.txt w/CMakeLists.txt
index 9bcb107..c7600a4 100644
--- i/CMakeLists.txt
+++ w/CMakeLists.txt
@@ -2,7 +2,7 @@
 # 3.3 is needed in src/libFLAC
 # 3.5 is needed in src/libFLAC/ia32
 # 3.9 is needed in 'doc' because of doxygen_add_docs()
-cmake_minimum_required(VERSION 3.5)
+cmake_minimum_required(VERSION 3.20)
 
 if(NOT (CMAKE_BUILD_TYPE OR CMAKE_CONFIGURATION_TYPES OR DEFINED ENV{CFLAGS} OR DEFINED ENV{CXXFLAGS}))
     set(CMAKE_BUILD_TYPE Release CACHE STRING "Choose the type of build, options are: None Debug Release RelWithDebInfo")
@@ -32,14 +32,6 @@ endif()
 find_package(Iconv)
 set(HAVE_ICONV ${Iconv_FOUND})
 
-if(CMAKE_C_COMPILER_ID MATCHES "GNU|Clang")
-    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Waggregate-return -Wcast-align -Wnested-externs -Wshadow -Wundef -Wmissing-declarations -Winline")
-    set(CMAKE_C_FLAGS_RELEASE "${CMAKE_C_FLAGS_RELEASE} -O3 -funroll-loops")
-endif()
-if(CMAKE_CXX_COMPILER_ID MATCHES "GNU|Clang")
-    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wextra -Wcast-align -Wshadow -Wwrite-strings -Wctor-dtor-privacy -Wnon-virtual-dtor -Wreorder -Wsign-promo -Wundef")
-endif()
-
 include(CMakePackageConfigHelpers)
 include(CPack)
 include(CTest)
diff --git i/src/libFLAC++/CMakeLists.txt w/src/libFLAC++/CMakeLists.txt
index ec27835..5a902e7 100644
--- i/src/libFLAC++/CMakeLists.txt
+++ w/src/libFLAC++/CMakeLists.txt
@@ -27,9 +27,6 @@ target_include_directories(FLAC++ INTERFACE
     "$<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}>")
 target_link_libraries(FLAC++ PUBLIC FLAC)
 if(BUILD_SHARED_LIBS)
-    set_target_properties(FLAC++ PROPERTIES
-        VERSION 6.3.0
-        SOVERSION 6)
     if(NOT WIN32)
         set_target_properties(FLAC++ PROPERTIES CXX_VISIBILITY_PRESET hidden)
     endif()
@@ -37,9 +34,21 @@ endif()
 
 add_library(FLAC::FLAC++ ALIAS FLAC++)
 
+if(BUILD_SHARED_LIBS)
+  set(INSTALL_LIBDIR_SUFFIX $<$<PLATFORM_ID:Windows>:/shared>)
+  set_target_properties(FLAC++ PROPERTIES
+    MSVC_RUNTIME_LIBRARY MultiThreadedDLL
+    OUTPUT_NAME flac++)
+else()
+  set(INSTALL_LIBDIR_SUFFIX $<$<PLATFORM_ID:Windows>:/static>)
+  set_target_properties(FLAC++ PROPERTIES
+    MSVC_RUNTIME_LIBRARY MultiThreaded
+    OUTPUT_NAME flac++)
+endif()
+
 install(TARGETS FLAC++ EXPORT targets
-    ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}/"
-    LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}/"
+    ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}/${INSTALL_LIBDIR_SUFFIX}"
+    LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}/${INSTALL_LIBDIR_SUFFIX}"
     RUNTIME DESTINATION "${CMAKE_INSTALL_BINDIR}/")
 
 if(INSTALL_PKGCONFIG_MODULES)
diff --git i/src/libFLAC/CMakeLists.txt w/src/libFLAC/CMakeLists.txt
index 44a3519..96e9607 100644
--- i/src/libFLAC/CMakeLists.txt
+++ w/src/libFLAC/CMakeLists.txt
@@ -98,9 +98,6 @@ if(TARGET Ogg::ogg)
     target_link_libraries(FLAC PUBLIC Ogg::ogg)
 endif()
 if(BUILD_SHARED_LIBS)
-    set_target_properties(FLAC PROPERTIES
-        VERSION 8.3.0
-        SOVERSION 8)
     if(NOT WIN32)
         set_target_properties(FLAC PROPERTIES C_VISIBILITY_PRESET hidden)
     endif()
@@ -108,10 +105,21 @@ endif()
 
 add_library(FLAC::FLAC ALIAS FLAC)
 
+if(BUILD_SHARED_LIBS)
+  set(INSTALL_LIBDIR_SUFFIX $<$<PLATFORM_ID:Windows>:/shared>)
+  set_target_properties(FLAC PROPERTIES
+    MSVC_RUNTIME_LIBRARY MultiThreadedDLL
+    OUTPUT_NAME flac)
+else()
+  set(INSTALL_LIBDIR_SUFFIX $<$<PLATFORM_ID:Windows>:/static>)
+  set_target_properties(FLAC PROPERTIES
+    MSVC_RUNTIME_LIBRARY MultiThreaded
+    OUTPUT_NAME flac)
+endif()
 
 install(TARGETS FLAC EXPORT targets
-    ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}/"
-    LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}/"
+    ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}/${INSTALL_LIBDIR_SUFFIX}"
+    LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}/${INSTALL_LIBDIR_SUFFIX}"
     RUNTIME DESTINATION "${CMAKE_INSTALL_BINDIR}/")
 
 if(INSTALL_PKGCONFIG_MODULES)
